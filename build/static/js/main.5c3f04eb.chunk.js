(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var r=t(1),c=t.n(r),o=t(15),a=t.n(o),u=(t(20),t(5)),i=t(3),s=t(0),l=function(e){return Object(s.jsxs)("div",{children:["filter shown with",Object(s.jsx)("input",{value:e.filter,onChange:e.onChange})]})},b=function(e){return Object(s.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:e.newName,onChange:e.onNameChange})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:e.newNumber,onChange:e.onNumberChange})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){return Object(s.jsx)("ul",{children:e.persons.filter((function(n){return""===e.filter||n.name.toLowerCase().includes(e.filter.toLowerCase())})).map((function(n){return Object(s.jsxs)("li",{children:[n.name," ",n.number," ",Object(s.jsx)("input",{type:"button",value:"delete",onClick:function(){return e.onPersonDelete(n.id)}})]},n.name)}))})},j=t(4),f=t.n(j),h="/api/persons",m={getAll:function(){return f.a.get(h)},create:function(e){return f.a.post(h,e)},update:function(e,n){return f.a.put("".concat(h,"/").concat(e),n)},delete:function(e){return f.a.delete("".concat(h,"/").concat(e))}},O=(t(40),function(e){var n=e.message,t=e.isError,r=void 0!==t&&t;return null===n?null:Object(s.jsx)("div",{className:"message"+(r?" error":""),children:n})}),g=function(){var e=Object(r.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(r.useState)(""),a=Object(i.a)(o,2),j=a[0],f=a[1],h=Object(r.useState)(""),g=Object(i.a)(h,2),p=g[0],v=g[1],x=Object(r.useState)(""),w=Object(i.a)(x,2),C=w[0],N=w[1],S=Object(r.useState)({message:null,isError:!1}),k=Object(i.a)(S,2),A=k[0],y=k[1],D=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];y({message:e,isError:n}),setTimeout((function(){return y(null)}),5e3)};Object(r.useEffect)((function(){m.getAll().then((function(e){return c(e.data)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Phonebook"}),Object(s.jsx)(O,Object(u.a)({},A)),Object(s.jsx)(l,{filter:C,onChange:function(e){return N(e.target.value)}}),Object(s.jsx)("h2",{children:"add a new"}),Object(s.jsx)(b,{onSubmit:function(e){var n=t.find((function(e){return e.name===j}));n?window.confirm("".concat(j," is already added to phonebook, replace the old number with a new one?"))&&(m.update(n.id,Object(u.a)(Object(u.a)({},n),{},{number:p})).then((function(){return m.getAll()})).then((function(e){c(e.data),D("Changed ".concat(n.name))})),v(""),v("")):(m.create({name:j,number:p}).then((function(){return m.getAll()})).then((function(e){c(e.data),D("Added ".concat(j))})),f(""),v(""));e.preventDefault()},onNameChange:function(e){return f(e.target.value)},onNumberChange:function(e){return v(e.target.value)},newName:j,newNumber:p}),Object(s.jsx)("h2",{children:"Numbers"}),Object(s.jsx)(d,{persons:t,filter:C,onPersonDelete:function(e){var n=t.find((function(n){return n.id===e}));void 0!==n&&window.confirm("Delete ".concat(n.name," ?"))&&m.delete(e).then((function(){return m.getAll()})).then((function(e){return c(e.data)})).catch((function(e){if(404!==e.response.status)throw e;D("Information of ".concat(n.name," has already been removed from server"),!0)}))}})]})},p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,42)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,o=n.getLCP,a=n.getTTFB;t(e),r(e),c(e),o(e),a(e)}))};a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),p()}},[[41,1,2]]]);
//# sourceMappingURL=main.5c3f04eb.chunk.js.map